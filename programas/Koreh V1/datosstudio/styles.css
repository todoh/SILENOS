/* --- ESTILO NORDIC (Silenos Standard) --- */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400&display=swap');

body { 
    font-family: 'Inter', sans-serif; 
    background: #ffffff; 
    color: #1a1a1a; 
    height: 100vh; 
    overflow: hidden; 
    display: flex; 
    flex-direction: column; 
    font-weight: 300; 
}

/* Scrollbar Minimalista */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #e5e5e5; border-radius: 2px; }
::-webkit-scrollbar-thumb:hover { background: #d4d4d4; }

.loading-bar { 
    position: fixed; top: 0; left: 0; height: 2px; background: #1a1a1a; 
    transition: width 0.4s ease; z-index: 1000; 
}

.font-mono { font-family: 'JetBrains Mono', monospace; letter-spacing: -0.02em; }

/* Inputs Limpios */
.config-input {
    background: transparent; border-bottom: 1px solid #e5e5e5; color: #1a1a1a;
    padding: 8px 0; border-radius: 0; font-size: 0.8rem; outline: none;
    transition: border-color 0.3s; width: 100%;
}
.config-input:focus { border-bottom: 1px solid #1a1a1a; }

select.config-input { cursor: pointer; border-radius: 0; -webkit-appearance: none; }

/* Botones */
.btn-nordic { 
    background: #ffffff; color: #1a1a1a; text-transform: uppercase; 
    font-size: 10px; letter-spacing: 0.1em; font-weight: 500;
    border: 1px solid #e5e5e5; padding: 8px 16px; transition: all 0.3s ease;
    font-family: 'Inter', sans-serif; cursor: pointer; display: flex; align-items: center; gap: 8px;
}
.btn-nordic:hover { border-color: #1a1a1a; background: #fafafa; }
.btn-nordic:disabled { opacity: 0.5; cursor: default; border-color: #f0f0f0; }
.btn-nordic.active { background: #1a1a1a; color: white; border-color: #1a1a1a; }

.btn-primary {
    background: #1a1a1a; color: #ffffff; border: none;
    font-family: 'Inter', sans-serif; text-transform: uppercase;
    font-size: 11px; letter-spacing: 0.15em; padding: 16px;
    transition: opacity 0.3s; cursor: pointer; width: 100%;
    display: flex; justify-content: center; align-items: center; gap: 8px;
}
.btn-primary:hover { opacity: 0.9; }
.btn-primary:disabled { background: #e5e5e5; color: #a3a3a3; cursor: not-allowed; }

.label-text {
    font-size: 9px; text-transform: uppercase; letter-spacing: 0.2em;
    color: #9ca3af; font-weight: 500; margin-bottom: 4px; display: block;
}

/* --- GRID DE DATOS --- */
.grid-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); /* Un poco más ancho para dar aire */
    gap: 1.5rem;
    padding: 2rem;
    width: 100%;
}

.data-card {
    background: #ffffff;
    border: 1px solid #f0f0f0;
    display: flex; flex-direction: column;
    transition: all 0.3s ease;
    cursor: pointer;
    height: auto; /* IMPORTANTE: Altura automática para adaptarse al cuadrado */
    min-height: 300px;
    position: relative;
    overflow: hidden;
}
.data-card:hover { border-color: #1a1a1a; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.05); }

.card-img-box {
    width: 100%;
    aspect-ratio: 1 / 1; /* IMPORTANTE: Fuerza que sea cuadrado perfecto */
    background: #fafafa; 
    border-bottom: 1px solid #f0f0f0;
    display: flex; align-items: center; justify-content: center; overflow: hidden;
    position: relative;
}
.card-img { 
    width: 100%; 
    height: 100%; 
    object-fit: contain; /* IMPORTANTE: Muestra la imagen entera sin recortar */
    padding: 10px; /* Un poco de margen interno para que "respire" */
    transition: transform 0.5s; 
}
.data-card:hover .card-img { transform: scale(1.05); }

.card-tag {
    position: absolute; top: 10px; left: 10px;
    background: rgba(255,255,255,0.9); backdrop-filter: blur(4px);
    padding: 4px 8px; font-size: 9px; font-weight: 600; text-transform: uppercase;
    border: 1px solid #e5e5e5; letter-spacing: 0.05em; z-index: 10;
}

/* Estado Loading en Card */
.card-loading-overlay {
    position: absolute; inset: 0; background: rgba(255,255,255,0.9);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    z-index: 20; backdrop-filter: blur(1px);
}

/* --- SIDEBARS --- */
.sidebar {
    position: absolute; top: 0; bottom: 0; width: 350px;
    background: #ffffff; 
    transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    z-index: 50; display: flex; flex-direction: column;
    box-shadow: 0 0 30px rgba(0,0,0,0.05);
}

/* Editor (Derecha) */
.sidebar-right {
    right: 0; border-left: 1px solid #e5e5e5;
    transform: translateX(100%);
}
.sidebar-right.open { transform: translateX(0); }

/* Generador (Izquierda) */
.sidebar-left {
    left: 0; border-right: 1px solid #e5e5e5;
    transform: translateX(-100%);
    width: 320px;
}
.sidebar-left.open { transform: translateX(0); }


/* Loader Overlay */
.loader-overlay {
    position: absolute; inset: 0; background: rgba(255,255,255,0.8);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    z-index: 20; backdrop-filter: blur(2px);
    opacity: 0; pointer-events: none; transition: opacity 0.2s;
}
.loader-overlay.active { opacity: 1; pointer-events: all; }

/* Log Console */
.log-console {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    color: #666;
    overflow-y: auto;
    display: flex;
    flex-direction: column-reverse; /* Nuevos abajo */
}
.log-entry { margin-bottom: 4px; padding-left: 8px; border-left: 2px solid #eee; }
.log-entry.info { border-color: #3b82f6; color: #1a1a1a; }
.log-entry.success { border-color: #10b981; color: #047857; }
.log-entry.error { border-color: #ef4444; color: #b91c1c; }

/* Toggle Minimalista (FIXED) */
.toggle-checkbox { 
    position: absolute; 
    opacity: 0; 
    width: 0; 
    height: 0; 
    pointer-events: none; /* Evita clicks fantasma, pero permite que el label controle */
}

/* Estado Activo (Fondo negro) */
.toggle-checkbox:checked + .toggle-label { 
    background-color: #1a1a1a; 
}

/* Movimiento del círculo */
.toggle-checkbox:checked + .toggle-label .toggle-circle { 
    transform: translateX(12px); 
}

/* Estilo base del Label */
.toggle-label {
    width: 28px; 
    height: 16px; 
    background-color: #e5e5e5;
    border-radius: 999px; 
    position: relative; 
    cursor: pointer; 
    transition: background-color 0.2s ease;
    display: block;
    flex-shrink: 0; /* Evita que se aplaste en flex containers */
}

.toggle-circle {
    width: 12px; 
    height: 12px; 
    background-color: white; 
    border-radius: 50%;
    position: absolute; 
    top: 2px; 
    left: 2px; 
    transition: transform 0.2s cubic-bezier(0.4, 0.0, 0.2, 1);
    box-shadow: 0 1px 2px rgba(0,0,0,0.2);
}